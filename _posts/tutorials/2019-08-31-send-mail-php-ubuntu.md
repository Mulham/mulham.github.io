---
date: 2019-08-31
title: تهيئة PHP لإرسال رسائل إلكترونية عبر سيرفر خارجي
description: شرح لكيفية إعداد وتهيئة php لإرسال رسائل إلكترونية عبر حساب gmail وماشابهه
tags: [PHP, لينكس, شبكات, إنترنت]
image:
  path: /assets/posts/mail-server.png
  alt: Image by OpenClipart-Vectors from Pixabay 
---

ستتعلم من هذا الدرس كيفية تهيئة إعدادات php في نظام لينكس أبونتو لإرسال رسائل إلكترونية من جهازك أو من أي تطبيق وب php موجود على جهازك مثل وورد بريس ودروبال وجملة وغيره، وسيكون هذا الشرح عن ربط الإعدادات بحساب gmail للإرسال منه ولكن يمكن ربطه بأي بريد آخر وفقاً للبيانات التي يتيحها.

عادةً لعمل سيرفر بريد محلي أو أي شيئ يتعلق بالبريد محليا يتم تنصيب Postfix والذي تكون مهمته تبادل الرسائل بين السيرفر المحلي والسيرفرات على الإنترنت، ولكن Postfix سيكون معقداً وفقا لغرضنا في هذا الشرح، ولذلك سنستخدم برنامج خفيف وسريع التهيئة لغرضنا هذا وهو ssmtp، قم بتنصيبه بالأمر التالي:

		sudo apt-get install ssmtp

بعدها قم بالتعديل على الملف /etc/ssmtp/ssmtp.conf بالذهاب للمسار بنفسك أو بالأمر التالي:

		sudo nano /etc/ssmtp/ssmtp.conf

ستحتاج لتعديل السطر التالي الأول وإضافة الأسطر التي تليه (البيانات وفقًا ل gmail):


		mailhub=smtp.gmail.com:587
		UseSTARTTLS=YES
		AuthUser=<YOUR-EMAIL>@gmail.com
		AuthPass=<YOUR-PASSWORD>

قم بتغيير المعلومات أعلاه وفقا لحساب البريد الإلكتروني الخاص بك وكلمة السر.

إذا قمت بالتعديل على الملف من سطر الأوامر وفقا للأمر أعلاه فاضغط بعد التعديل على 
<kbd>ctrl</kbd>+ <kbd>X</kbd>
ثم <kbd>Y</kbd> ثم <kbd>Enter</kbd>

الآن يتوجب عليك تغيير سطر في إعدادات  php بالتعديل على الملف php.ini وإضافة التالي:

sendmail_path = /usr/sbin/sendmail -t

يكون الملف غالبًا في المسار /etc/php/7.2/apache2/php.ini لتعديله من سطر الأوامر اكتب قبله sudo nano

**ملاحظة**: للربط بـ gmail تحديداً يتوجب عليك الذهاب لإعدادات البريد [هنا](https://myaccount.google.com) ثم انقر على "الأمان" من القائمة الجانبية وانزل ﻷسفل الصفحة وقم بتفعيل "وصول التطبيقات الأقل أمانًا".


ﻷي استفسار اتركه في التعليقات أو راسلني شخصيا.

المرجع: 

* [askubuntu](https://askubuntu.com/questions/47609/how-to-have-my-php-send-mail) 
